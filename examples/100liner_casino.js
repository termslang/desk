eth.defaultAccount = eth.coinbase;
var abi = [{"constant":false,"inputs":[],"name":"roll","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"winner","outputs":[{"name":"output","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"balance","outputs":[{"name":"output","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"user","outputs":[{"name":"output","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"funds","outputs":[{"name":"output","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"player","outputs":[{"name":"output","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"players","outputs":[{"name":"output","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"jackpot","outputs":[{"name":"output","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"block","outputs":[{"name":"output","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"suicide","outputs":[],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"payable":true,"type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"bet","type":"uint256"},{"indexed":true,"name":"players","type":"uint256"}],"name":"Roll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"winner","type":"address"},{"indexed":true,"name":"jackpot","type":"uint256"}],"name":"Won","type":"event"}];
var data = '0x7f856ebc1cc8390962dd198d3be5738dcee1cc2ca55e36fe7e12419ac378838e536020557f8b01f9dd0400d6a1e84369a5fb8f6033934856ffa8ebadd707dca302ab55169560405561035d8060546000396000f360e060020a600035048063cd5e3c5d1460dc5780633ccfd60b1461022d578063dfbf53ae14610257578063b69ef8a81461026b578063553275be146102795780637b8e8895146102995780639e0551c6146102c0578063dc0b3564146102e05780636b31ee01146102ec578063575cb0f6146102f85763c96cd46f14610306575b341561035b5733602001546060523460605101606052606051336020015560016080525b608051602002620100000154801560c85733801460c85760016080510160805260a4565b336080516020026201000001556080513355005b60a08054905260a0511561011e5760f460005261030a565b60c0516020015460605260a0516060510160605260605160c05160200155600060a055600060e055005b436101005560016080525b608051602002620100000154156101b2576101205160200154606052606051156101a45761014051156101645760605161014051111561016c575b606051610140525b600160e0510160e05260e05160e0556101205160e05160200262020000015260e05160200262020000015160e0516020026202000001555b600160805101608052610129565b600260e0511061021d5760e051610140510260a05260a05160a05560016080525b60e0516080511161021d57608051602002620200000151610160526101605160200154606052610140516060510360605260605161016051602001556001608051016080526101d3565b60e05161014051602054602080a2005b33602001546060526060511561035b576000336020015560006000600060006060513360645a03f1005b61026260005261030a565b601460c0600c01f35b336020015460605260206060f35b600435608052608051602002620100000154610120526014610120600c01f35b60043560805260805160200262010000015461012052610120516020015460605260206060f35b600435608052608051602002620200000154610160526014610160600c01f35b60e080549052602060e0f35b60a080549052602060a0f35b610100805490526020610100f35b33ff005b61010080549052610100511561035b5761010051406101805260e080549052600260e0511061035b5760e051610180510660805260016080510160805260805160200262020000015460c052600051565b00';
var aContract = web3.eth.contract(abi);
var con = aContract.new({from: web3.eth.accounts[0], data: data, gas: '4700000'}, function (e, contract){console.log(e, contract); if (typeof contract.address !== 'undefined'){console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash); var events = con.allEvents(); events.watch(function(error, event){ if (!error) console.log("EVENT:\n", JSON.stringify(event));});}})

