eth.defaultAccount = eth.coinbase;
var abi = [{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"balance","outputs":[{"name":"output","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"user","outputs":[{"name":"output","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"funds","outputs":[{"name":"output","type":"uint256"}],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"payable":true,"type":"fallback"}];
var data = '0x6101f580600c6000396000f360e060020a6000350480633ccfd60b1460d6578063b69ef8a814610149578063553275be1461019257637b8e8895146101c4575b34156101f3575b6001602051016020526020516020026201000001548060a060020a9004604052606060020a8091020460605233606051146088576060511560a957600060405103603a57602051608052603a565b346040510160405260405160a060020a023317602051602002620100000155005b60006080511460b9576080516020525b3460405260405160a060020a023317602051602002620100000155005b5b6001602051016020526020516020026201000001548060a060020a9004604052606060020a80910204606052606051156101f35733606051146101185760d7565b604051156101f357600060a060020a02331760205160200262010000015560006000600060006040513360645a03f1005b5b6001602051016020526020516020026201000001548060a060020a9004604052606060020a809102046060526060511561018c57336060511461018c5761014a565b60206040f35b6004356020526020516020026201000001548060a060020a9004604052606060020a8091020460605260146060600c01f35b6004356020526020516020026201000001548060a060020a9004604052606060020a8091020460605260206040f35b00';
var aContract = web3.eth.contract(abi);
var con = aContract.new({from: web3.eth.accounts[0], data: data, gas: '4700000'}, function (e, contract){console.log(e, contract); if (typeof contract.address !== 'undefined'){console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash); var events = con.allEvents(); events.watch(function(error, event){ if (!error) console.log("EVENT:\n", JSON.stringify(event));});}})

