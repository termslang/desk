eth.defaultAccount = eth.coinbase;
var abi = [{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"suicide","outputs":[],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"payable":true,"type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"bet","type":"uint256"},{"indexed":true,"name":"players","type":"uint256"}],"name":"Roll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"winner","type":"address"},{"indexed":true,"name":"jackpot","type":"uint256"}],"name":"Won","type":"event"}];
var data = '0x7f856ebc1cc8390962dd198d3be5738dcee1cc2ca55e36fe7e12419ac378838e536020557f8b01f9dd0400d6a1e84369a5fb8f6033934856ffa8ebadd707dca302ab55169560405560708060536000396000f360e060020a6000350480633ccfd60b14602d578063b69ef8a814605d5763c96cd46f14606b575b3415606e57005b336020015460605260605115606e576000336020015560605115606e5760006000600060006060513360645a03f1005b336020015460605260206060f35bff005b00';
var aContract = web3.eth.contract(abi);
var con = aContract.new({from: web3.eth.accounts[0], data: data, gas: '4700000'}, function (e, contract){console.log(e, contract); if (typeof contract.address !== 'undefined'){console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash); var events = con.allEvents(); events.watch(function(error, event){ if (!error) console.log("EVENT:\n", JSON.stringify(event));});}})

